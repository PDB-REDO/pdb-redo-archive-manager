<!DOCTYPE html SYSTEM "about:legacy-compat">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:z2="http://www.hekkelman.com/libzeep/m2" lang="nl">

<head z2:replace="~{head::head(~{::title},~{::head/script})}">
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

	<title>PDB-REDO Archive Manager - Search</title>

	<script src="scripts/search.js"></script>
</head>

<body>

	<script z2:inline="javascript">
		const _csrf = /*[[${csrfToken}]]*/ null;
		const SOFTWARE = /*[[${software}]]*/ null;

		const PROGRAM = /*[[${program}]]*/ null;
		const VERSION = /*[[${version}]]*/ null;
	</script>

	<nav z2:replace="~{menu :: navbar('admin')}"></nav>

	<div class="container">

		<h3 class="mt-3">Search Archive</h3>

		<div class="row">
			<div class="column-sm mx-5 my-2">
				<h6>Program / Version</h6>
				<form id="token-form" action="search" method="get">
					<div class="input-group input-group-sm mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">Program</span>
						</div>

						<select class="custom-select" id="inputProgramName" name="program">
							<option z2:each="sw, i : ${software}" z2:selected="${i.index == programIx}" z2:value="${sw.name}"
								z2:text="${sw.name}">
							</option>
						</select>
					</div>

					<div class="input-group input-group-sm mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">Version</span>
						</div>

						<select class="custom-select" id="inputProgramVersion" name="version">
							<option z2:each="swv, i : ${software[programIx].versions}" z2:value="${swv}"
								z2:selected="${swv == version}" z2:text="${swv}"></option>
						</select>
					</div>

					<button type="submit" form="token-form" class="btn btn-primary mt-3">Search</button>
				</form>
			</div>
			<!-- 
			<div class="column-sm mx-5 my-2">

				<h6>Generated token</h6>

				<form id="delete-token-form">
					<div class="input-group input-group-sm mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">name</span>
						</div>

						<input class="form-control form-control-sm" maxlength="254" id="token-name" name="token-name"
							type="text" readonly="readonly" />
					</div>

					<div class="input-group input-group-sm mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">id</span>
						</div>

						<input class="form-control form-control-sm" maxlength="254" id="token-id" name="token-id"
							type="number" readonly="readonly" />
					</div>

					<div class="input-group input-group-sm mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">token</span>
						</div>

						<input class="form-control form-control-sm" maxlength="254" id="token-secret"
							name="token-secret" type="text" readonly="readonly" />
					</div>

					<div class="input-group input-group-sm mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">expires</span>
						</div>

						<input class="form-control form-control-sm" maxlength="254" id="token-expires"
							name="token-expires" type="datetime" readonly="readonly" />
					</div>

					<button type="submit" form="delete-token-form" class="btn btn-primary mt-3">Delete</button>
				</form>
			</div> -->
		</div>


		<!-- <table class="table table-striped table-sm">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">User</th>
					<th scope="col">Session Name</th>
					<th scope="col">Session ID</th>
					<th scope="col">Token</th>
					<th scope="col">Created</th>
					<th scope="col">Expires</th>
					<th scope="col">Action</th>
				</tr>
			</thead>
			<tbody>
				<tr z2:each="session, i: ${sessions}">
					<th scope="row" z2:text="${i.count}"></th>
					<td z2:text="${session.user}"></td>
					<td z2:text="${session.name}"></td>
					<td z2:text="${session.id}"></td>
					<td z2:text="${session.token}"></td>
					<td z2:text="${#dates.format(session.created, '%d %B %Y, %H:%M')}"></td>
					<td z2:text="${#dates.format(session.expires, '%d %B %Y, %H:%M')}"></td>
					<td><a class="action" href="javascript:void(0);" z2:attr="data-sessionid=${session.id}"><i class="fa fa-trash"></i></a></td>
				</tr>
			</tbody>
		</table> -->
	</div>
</body>

</html>